.ORIG x3000
NOT R2,R0
ADD R2,R2,#1
ADD R3,R2,R1
BRz STOP
BRn EXCHANGE
BRp SUB

SUB ADD R1,R1,R2
BRz STOP
BRp SUB
BRn MOD

MOD ADD R3,R0,#0
ADD R0,R0,R1
ADD R1,R3,#0
NOT R2,R0
ADD R2,R2,#1
BRnzp SUB

EXCHANGE ADD R1,R0,#0
ADD R0,R1,R3
NOT R2,R0
ADD R2,R2,#1
BRnzp SUB

STOP halt
.END